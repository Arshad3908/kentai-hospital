<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="./../style/signin.css">
    <title>signin page</title>

    <!-- animation -->
<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />

</head>

<body>

    <!-- animation -->
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script>
  AOS.init();
</script>

<!--signin-->
<div class="container" id="container" data-aos="zoom-out" data-aos-duration="1500">
    <div class="form-container sign-up">
        <form id="signup-form">
            <h1>Create Account</h1>
            <div class="social-icons">
                <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
            </div>
            <span>or use your email for registration</span>
            <input type="text" id="signup-name" placeholder="Name" required>
            <input type="email" id="signup-email" placeholder="Email" required>
            <input type="password" id="signup-password" placeholder="Password" required>
            <button type="button" onclick="handleSignup()">Sign Up</button>
        </form>
    </div>
    <div class="form-container sign-in">
        <form id="signin-form">
            <h1>Sign In</h1>
            <div class="social-icons">
                <a href="#" class="icon"><i class="fa-brands fa-google-plus-g"></i></a>
                <a href="#" class="icon"><i class="fa-brands fa-facebook-f"></i></a>
                <a href="#" class="icon"><i class="fa-brands fa-github"></i></a>
                <a href="#" class="icon"><i class="fa-brands fa-linkedin-in"></i></a>
            </div>
            <span>or use your email password</span>
            <input type="email" id="signin-email" placeholder="Email" required>
            <input type="password" id="signin-password" placeholder="Password" required>
            <a href="#">Forget Your Password?</a>
            <button type="button" onclick="handleSignin()">Sign In</button>
        </form>
    </div>
    <div class="toggle-container">
        <div class="toggle">
            <div class="toggle-panel toggle-left">
                <h1>Welcome Back!</h1>
                <p>Enter your personal details to use all of site features</p>
                <button class="hidden" id="login">Sign In</button>
            </div>
            <div class="toggle-panel toggle-right">
                <h1>Hello, Friend!</h1>
                <p>Register with your personal details to use all of site features</p>
                <button class="hidden" id="register">Sign Up</button>
            </div>
        </div>
    </div>
</div>

<script>
    // Store user information in localStorage
    function handleSignup() {
        const name = document.getElementById('signup-name').value;
        const email = document.getElementById('signup-email').value;
        const password = document.getElementById('signup-password').value;

        if (name && email && password) {
            localStorage.setItem('userEmail', email);
            localStorage.setItem('userPassword', password);
            alert('USER INFORMATION PROCESSING...');
            setTimeout(() => {
                alert('Submit successfully');
                toggleSignIn();
                document.getElementById('signin-email').value = email;
                document.getElementById('signin-password').value = password;
            }, 10000); // 10-second delay
        } else {
            alert('Please provide all necessary details');
        }
    }

    // Handle sign-in process
    function handleSignin() {
        const email = document.getElementById('signin-email').value;
        const password = document.getElementById('signin-password').value;
        const storedEmail = localStorage.getItem('userEmail');
        const storedPassword = localStorage.getItem('userPassword');

        if (email && password) {
            if (email === storedEmail && password === storedPassword) {
                alert('WELCOME');
                setTimeout(() => {
                    window.location.href = 'home.html';
                }, 1000); // 1-second delay
            } else {
                alert('⚠Warning ⚠ Wrong information provided');
                setTimeout(() => {
                    alert('User information retrieved successfully');
                    document.getElementById('signin-email').value = storedEmail;
                    document.getElementById('signin-password').value = storedPassword;
                }, 1000); // Instant pop up
            }
        } else {
            alert('Error 404: Please fill in all necessary details');
        }
    }

    function toggleSignIn() {
    // Hide other elements
    document.querySelector('.toggle-container').style.display = 'none';
    document.querySelector('.form-container.sign-up').style.display = 'none';
    
    // Center the sign-in form
    const signInForm = document.querySelector('.form-container.sign-in');
    signInForm.style.display = 'flex';  // Use 'flex' or 'grid' for centering
    signInForm.style.justifyContent = 'center';  // Horizontally center
    signInForm.style.alignItems = 'center';  // Vertically center
    signInForm.style.position = 'absolute';  // Optional: if you want to use absolute positioning
    signInForm.style.top = '50%';  // Optional: for vertical centering with absolute positioning
    signInForm.style.left = '50%';  // Optional: for horizontal centering with absolute positioning
    signInForm.style.transform = 'translate(-50%, -50%)';  // Centering adjustment
}


    // If there is user data stored, populate the sign-in form
    window.onload = function() {
        const storedEmail = localStorage.getItem('userEmail');
        const storedPassword = localStorage.getItem('userPassword');

        if (storedEmail && storedPassword) {
            document.getElementById('signin-email').value = storedEmail;
            document.getElementById('signin-password').value = storedPassword;
        }
    };
</script>
</body>
<script src="./script.js"></script>

</html>